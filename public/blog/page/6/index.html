
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Naildrivin' &#10106;</title>
  <meta name="author" content="David Bryant Copeland">

  
  <meta name="description" content="One thing I love about Github is that they open-source a lot of their internal tools that power the site. What&#8217;s interesting is that, unlike &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.naildrivin5.com/blog/page/6/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Naildrivin' &#10106;" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10518541-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <meta name="google-site-verification" content="h_yTpXa6N3ebHj8DYmgX4lIFGHBW1NtGMVHfXuu7i_4" />
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Naildrivin' &#10106;</a></h1>
  
    <h2>&#10144; Website of David Bryant Copeland</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.naildrivin5.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="http://www.awesomecommandlineapps.com">My Book!</a></li>
  <li><a href="/scalatour">Scala Tour</a></li>
  <li><a href="/talks">Talks</a></li>
  <li><a href="/blog/archives">Blog Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/11/01/why-gitub-can-opensource-their-libraries.html">Why Github Can Open-Source Their Libraries</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-01T00:00:00-04:00" pubdate data-updated="true">Nov 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="first">
One thing I love about Github is that they open-source a <b>lot</b> of their internal tools that power the site.  What&#8217;s interesting is that, unlike SourceForge, they open source little bits and pieces; tiny libraries that do one specific thing.  These things are supremely useful (I use <a href="http://www.github.com/davetron5000/grit">Grit</a> and <a href="http://www.github.com/mojombo/jekyll">Jekyll</a> quite often).
</p>
<p>This is a huge benefit to them; their products become higher-quality through contribution, and their talent-pool increases due to their contribution to the community; they are positioned as a technical leader and social force in the development community.  I&#8217;ve often wondered why more companies don&#8217;t do this and what&#8217;s really involved?
</p>
<p>
There are three main hurdles to overcome in order to do this:
<ul>
    <li><b>Usefulness</b> - do you have code that someone will find useful?</li>
    <li><b>Legalish</b> - are you comfortable giving away some part of your company&#8217;s intellectual property?</li>
    <li><b>Technical</b> - does your technical infrastructure support extraction, collaboration, and re-integration?</li>
</ul>
</p>
<p>
<h3>Usefulness</h3>
I think comparing Github to Sourceforge makes this point very clear.  While SourceForge does <b>more</b> than, say, <a href="http://github.com/mojombo/bert">BERT</a>, it&#8217;s just a big huge all-or-nothing proposition; Github has extracted small parts of their infrastructure useful outside the realm of &#8220;software project hosting&#8221;, resulting in many useful, fine-grained libraries.
</p>
<p>
<h3>Legalish</h3>
The issue here is essentially to determine if the gains achieved by open-sourcing some of your code are <i>greater</i> than the competitive advantage <i>lost</i> by doing so.  Again, the ability to extract small, focused, and useful pieces of functionality is key.  Github isn&#8217;t open-sourcing their entire infrastructure; just the parts that are really useful and not incidental to their success (though one may argue that their IP has <b>nothing</b> to do with their success).
</p>
<p>
<h3>Technical</h3>
Here&#8217;s where things get interesting.  Extracting a small, useful piece of technology from your application, without revealing any trade secrets or other IP can be a challenging task.  Add to that the infrastructure needed to manage and incorporate contributions, and your technical infrastructure could be the main barrier to interacting with the community (and <b>not</b> the lawyers!).
</p>
<p>
My company struggles with this daily, as our tools were just not designed to make extraction and management of dependencies easy.  Our problem is almost entirely based on tooling and technology choice (which I&#8217;ll get into in a further post).
</p>
<p>
<h3>Conclusion</h3>
The advantages to open-sourcing some of your code are obvious: you can improve the quality of your codebase while improving your standing in the community (which enahnces your ability to attract top-talent).  You just need to make sure your technical infrastructure is built for it, and that the lines of communication between the development staff and the legal staff are clear and functional.
</p>
<p>
That Github routinely open-sources bits of their code speaks volumes to the choices they&#8217;ve made as an organization, as well as their technical prowess.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/10/27/joel-spolsky-at-devdays.html">An Anecdote About Joel Spolksy at DevDays DC</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-27T00:00:00-04:00" pubdate data-updated="true">Oct 27<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
I had signed up to volunteer at DC&#8217;s DevDays, however <a href="http://www.opower.com">My Company</a> decided to be a local sponsor.  Part of that involed us having some time for a 15-minute presentation during the lunch break.  We were told that other sponsors would be doing something similar.  I worked up a <a href="http://www.slideshare.net/davetron5000/measuring-agile-process-shorter-2359457">brief presentation on how we improve our development process with each iteration</a>.  I figured it would be of interest and not be too (obviously) self-promoting.
</p>
<p>
We get there and find out that not only are none of the other sponsors doing this, but we can&#8217;t go at lunch, because Joel very-much wanted these things to be &#8220;optional&#8221; and, The State Theater being near almost nowhere to go have lunch, everyone would be stuck there and &#8220;forced&#8221; to watch our presentation.  So, we&#8217;d be going <b>after</b> the entire conference was over.  
</p>
<p>
I have no problem with this at all; it&#8217;s his/their conference after all.  But, we probably wouldn&#8217;t have bothered if we had known this ahead of time. Nevertheless, I <a href="http://search.twitter.com/search?q=process+%23devdays+from%3Adavetron5000">tweeted</a> to the #DevDays hashtag (showing up on the big screen between speakers) and looked forward to it anyway.  As a member of a crappy local band, I&#8217;ve played some gigs to no-one, so it&#8217;s no big deal.
</p>
<p>
For most of the day the end of the schedule looked like:
<ul>
    <li style="font-size: 120%">4:15 - JQuery</li>
    <li style="font-size: 120%">5:30 - Goodbye!</li>
    <li style="font-size: 70%">(unspecified showcase for OPOWER (formerly Positive Energy))</li>
</ul>
</p>
<p>
Toward the end, Joel came by, introduced himself, and got my info so he could mention it in his closing remarks.  We discussed some logistics and he was very polite, but obviously had a lot going on.  
</p>
<p>
While Richard Worth was finishing up his JQuery talk, I head to the back.  The stagehand gets me set up and Joel is about to go deliver the &#8220;goodbye and thanks&#8221; speech.   Here is my mostly accurate transcription of our brief discussion:
<ul>
    <li><b>Joel:</b> <i>OK, I&#8217;m gonna go out, say goodbye, and then I&#8217;ll play a song that goes for about 4 minutes.  After that,
        you can head out and start</i></li>
    <li><b>Me:</b> <i>No problem, can you or someone cue me when the song is almost over? [you couldn&#8217;t hear much back there and I
        didn&#8217;t know the song]</i></li>
    <li><b>Joel:</b> <i>My experience running these things is that people will start leaving pretty soon, so once it looks like
        everyone&#8217;s left, you can head out there</i></li>
    <li><b>Me:</b> <i>Um, ok [mostly amused at his comment and a bit nervious]</i></li>
    <li><b>Joel:</b> <i>[slighly chuckling] We try to have a strict separation of Editorial and Advertorial content at these</i></li>
    <li><b>Me:</b> <i>[not quite parsing the word &#8220;Advertorial&#8221; and also thinking about the hour-long demo on FogBugz] </i></li>
</ul>
As I said, it was all good, and a few people DID stick around, but I found the whole thing rather amusing in retrospect.  And I think he actually paid attention to about half of my talk!
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/10/21/mocking-enumeration-in-scala.html">Mocking Enumeration in Scala With EasyMock</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-21T00:00:00-04:00" pubdate data-updated="true">Oct 21<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
I&#8217;m working on a Scala url shortener (to be hosted at my awesomely problem-causing &#10106;&#10144;.ws domain).  Since this is such a small application, I&#8217;m rolling it ground-up from the Servlet spec only, to get a feel for Scala without having to worry about a lot of dependencies.  As such, one of the things I need to do is parse the requestor&#8217;s &#8220;representation&#8221;, i.e. determine if I&#8217;m serving JSON, XML, or HTML.  Since this comes from the <tt>Accept:</tt> header, my tests will need to mock <tt>HttpServletRequest</tt>.
</p>
<p>
<div>
  <pre>
    <code class='scala'>val enumeration = createMock(
    classOf[java.util.Enumeration[String]])

expect(enumeration.hasMoreElements).andReturn(true)
expect(enumeration.nextElement).andReturn(&quot;TEXT/HTML&quot;)
expect(enumeration.hasMoreElements).andReturn(false)
// the following call doesn't compile!!!
expect(request.getHeaders(parser.ACCEPT_HEADER))
  .andReturn(enumeration)
expect(request.getParameter(parser.TYPE_PARAM))
  .andReturn(null)

replay(request)
replay(enumeration)

val t = parser.determineRepresentation(request)
t should equal (Some(&quot;text/html&quot;))</code>
  </pre>
</div>


When I compile this test, I get the following baffling error message:
<div>
  <pre>
    <code class='sh'>TestRepresentationParser.scala:21: type mismatch;
found   : java.util.Enumeration[String]
required: java.util.Enumeration[?0] where type ?0
    EasyMock.expect(request.getHeaders(parser.ACCEPT_HEADER))
        .andReturn(enumeration)</code>
  </pre>
</div>


Um, OK?  I tried zillions of ways to cast things, even creating my own implementation of <tt>Enumeration[String]</tt>, to no avail.  There seems to be
some problem with the fact that <tt>HttpServletRequest</tt> returns a non-parameterized <tt>Enumeration</tt> in its interface, but Scala won&#8217;t
let me create such a thing.
</p>
<p>
I had given up on testing this for a while, but eventually the simple solution prevailed:
<div>
  <pre>
    <code class='scala'>EasyMock.expect(request.getHeaders(parser.ACCEPT_HEADER))
// this call is obviously not type-checked, so it works
expectLastCall.andReturn(enumeration)</code>
  </pre>
</div>


Kinda cheesy, and I kinda feel stupid for not thinking of it sooner.  
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/10/17/moved-to-jekyll.html">Moved My Blog to Jekyll</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-17T00:00:00-04:00" pubdate data-updated="true">Oct 17<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
Kinda wanted a change of pace, so I moved my website over to <a href="http://www.github.com/mojombo/jekyll">Jekyll</a>, which has been fun to set up.  Plus, I actually spent more than 10 seconds on a site design.  I&#8217;m assuming my many hours of labour could&#8217;ve been done by a real designer.  
</p>
<p>
At any rate, Jekyll seems reasonably easy to deal with.  I got a very small taste of Capistrano as well; I push my site to a remote bare git repo on this server and then have the capfile update it.  I suppose it could be more sophisticiated, but this seems to work for now.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/09/10/my-own-personal-tour-of-scala.html">My Own Personal Tour of Scala</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-10T00:00:00-04:00" pubdate data-updated="true">Sep 10<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, the <a href="http://www.scala-lang.org">Main Scala Website</a> has a &#8220;tour&#8221; of the features of Scala.  I liked the idea, but found a lot of the examples and descriptions a bit terse and uninspiring (some of them are downright confusing).  However, I really wanted to learn about these features.  So, I set about understanding each feature, trying to answer the question &#8220;What problem does this solve?&#8221;.  The results are here at <a href="http://www.naildrivin5.com/scalatour">www.naildrivin5.com/scalatour</a>.  This site was constructed using my homebrew wiki software, <a href="http://github.com/davetron5000/halen/tree/master">Halen</a> (which I created to test out my <a href="http://github.com/davetron5000/gliffy/tree/master">Gliffy Ruby client</a>).
</p>
<p>
It was a fun experience.  As someone coming from Java application development (and who knows enough Ruby to feel some pain in Java), I tried hard to map the features to real-world problems a &#8220;blue-collar developer&#8221; might be facing.  A lot of Scala enthusiasts seem to be functional programming nerds, and I know FP can turn a lot of people off.  I think Scala is a great way to learn and appreciate functional programming without having to swallow a huge amount of info at once.  So, I figured approaching Scala&#8217;s features from a different angle would be useful.
</p>
<p>
I <b>did</b> have to supplement my learning with info from Odersky&#8217;s awesome <a href="http://www.amazon.com/Programming-Scala-Comprehensive-Step-step/dp/0981531601/ref=sr_1_1?ie=UTF8&s=books&qid=1252628682&sr=8-1">Programming Scala</a> book, but most of what I learned, I learned by playing around with code; all the code on the site should compile and run (at least in Scala 2.7.x).  The coolest thing was that by &#8220;touring&#8221; all of Scala&#8217;s (often weird) features, I got a good feel for how they all fit together.  The language feels like a very elaborate Rube-Goldberg Machine that ends up being rather elegant.  I feel that instead of casting Scala as a functional language, or a hybrid language, I would say that Scala is &#8220;static typing done right (or as right as is possible)&#8221;.  
</p>
<p>The way Scala allows for <a href="http://www.naildrivin5.com/scalatour/wiki_pages/DuckTyping">duck typing</a>, for example, is really cool, and something I think Ruby code could benefit from.
Stuff like <a href="http://www.naildrivin5.com/scalatour/wiki_pages/TypeVariance">type variance</a> is pretty heavy stuff, but when you dig into, and understand how functions are implemented, it ends up making some sense.  I even found a &#8220;real world&#8221; use for <a href="http://www.naildrivin5.com/scalatour/wiki_pages/ExplcitlyTypedSelfReferences">explictly-typed self-references</a>, which I thought was actually a sick joke for a while  :) Anyway, I hope that what I&#8217;ve learned doing this will be helpful to others.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/17/intro-to-scala-for-java-developers-slides.html">Intro to Scala for Java Developers - Slides</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-17T00:00:00-04:00" pubdate data-updated="true">Aug 17<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
Thought I&#8217;d post the slides of a talk I gave at work on Scala.  We&#8217;re primarily a Java shop, and every week we do either a code review or a tech-related presentation.
</p>
<p>
Our domain at work is analyzing residential energy data, so the examples herein are tailored to that:
</p>
<ul>
<li> <b>Read</b> or <b>Meter Read</b> - Some amount of energy used over a period, e.g. &#8220;100kwh in the month of June&#8221;</li>
<li> <b>Service Point</b> - meta-data about an electric meter (the &#8220;point&#8221; at which &#8220;service&#8221; is available).
</ul>
<p>
I also omitted a code demo where I refactored part of our codebase into Scala to show the difference (trust me, it was awesome!).
</p>
<!--
<div style="width:425px;text-align:left" id="__ss_1856620"><a style="font:14px Helvetica,Arial,Sans-serif;display:block;margin:12px 0 3px 0;text-decoration:underline;" href="http://www.slideshare.net/davetron5000/scala-for-java-developers-intro" title="Scala for Java Developers - Intro">Scala for Java Developers - Intro</a>
    &#8211;>
    <object style="margin:0px"><!-- width="425" height="355"> &#8211;><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=scala-090813141457-phpapp02&stripped_title=scala-for-java-developers-intro" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=scala-090813141457-phpapp02&stripped_title=scala-for-java-developers-intro" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object>
    <!--
    <div style="font-size:11px;font-family:tahoma,arial;height:26px;padding-top:2px;">View more <a style="text-decoration:underline;" href="http://www.slideshare.net/">documents</a> from <a style="text-decoration:underline;" href="http://www.slideshare.net/davetron5000">David Copeland</a>.</div></div>
&#8211;>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/06/29/simple-metrics-for-team-and-process-improvement.html">Simple Metrics for Team and Process Improvement</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-06-29T00:00:00-04:00" pubdate data-updated="true">Jun 29<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently, the development team where I work has started collecting bona-fide metrics, based on our ticketing system.  So few development shops (especially small ones) collect real information on how they work that it&#8217;s exciting that we&#8217;re doing it.
<p>
<p>
Here&#8217;s what we&#8217;re doing:
<ul>
<li><b>Number of releases during QA</b> (we do a daily release, so more than daily is an indicator)</li>
<li><b>Defects found, by severity and priority</b></li>
<li><b>Average time from accepting a ticket (starting work) to resolving it (sending it for testing)</b></li>
<li><b>Number of re-opens</b> (i.e. a defect was sent to testing, but not fixed)</li>
<li><b>Average time from resolving to closing</b> (i.e. testing the fix)</li>
<li><b>Defects due to coding errors vs. unclear requirements</b> (this is really great to be able to collect; with our company so new and small, we can introduce this and <b>use</b> it without ruffling a lot of feathers)</li>
</ul>
</p>
<p>
The tricky thing about metrics is that they are not terribly meaningful by themselves; rather they indicate areas for focussed investigation.  For example, if it takes an average of 1 day to resolve a ticket, but 3 days to test and close it, we don&#8217;t just conclude that testing is inefficient; we have to investigate why.  Perhaps we don&#8217;t have enough testers.  Perhaps our testing environment isn&#8217;t stable enough.  Perhaps there are too many show-stoppers that put the testers on the bench while developers are fixing them.
</p>
<p>
Another way to interpret these values is to watch them over time.  If the number of critical defects is decreasing, it stands to reason we&#8217;re doing a good job.  If the number of re-opens is increasing, we are packing too much into one iteration and possibly not doing sufficient requirements analysis.  We <b>just</b> started collecting these on the most recent iteration, so in the coming months, it will be pretty cool to see what happens.
</p>
<p>
These metrics are pretty basic, but it&#8217;s great to be collecting them.  The one thing that can make hard-core analysis of these numbers (esp. over time as the team grows and new projects are created) is the lack of normalization.  If we introduced twice as many critical bugs this iteration than last, are we necessarily &#8220;doing worse&#8221;?  What if the requirements were more complex, or the code required was just&#8230;bigger?</p>
<p>
Normalizing factors like cyclomatic complexity, lines of code, etc, can shed some more light on these questions.  These normalizing factors aren&#8217;t always popular, but interpreted the right way, could be very informative.  We&#8217;re the same team, using the same language, working on the same product.  If iteration 14 adds 400 lines of code, with 3 critical bugs, but iteration 15 adds 800 lines of code with 4 critical bugs, I think we can draw some real conclusions (i.e. we&#8217;re getting better).  
</p>
<p>
Another interesting bit of data would be to incorporate our weekly code review.  We typically review fresh-but-not-too-fresh code, mostly for knowledge sharing and general &#8220;architectural consistency&#8221;.  If we were to actively review code in development, before it is sent to testing, we could then have real data on the effectiveness of our code reviews.  Are we finding lots of coding errors at testing time?  Maybe more code reviews would help?  Are we finding fewer critical bugs in iteration 25, than in iteration 24 and 23, where we weren&#8217;t doing reviews?  Reviews helped a lot.
</p>
<p>
These are actually really simple things to do (especially with a small, cohesive team), and can shed real light on the development process.  What else can be done?
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/06/20/stand-while-you-work.html">Stand While You Work!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-06-20T00:00:00-04:00" pubdate data-updated="true">Jun 20<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
After experiencing some back troubles recently, I was encouraged to work standing up.  The pain relief was immediate, and for the past several months, it&#8217;s been great.  I work most of the time standing, sitting for a few minutes if I get a bit tired.  Not only is this great for my back, but it ensures I don&#8217;t work insane hours&#8230;I simply can&#8217;t stand for more than 8 hours a day.  When I first brought the subject of standing up with my company&#8217;s office manager, she was open to whatever I wanted to do; I figured since it&#8217;s my issue to solve (and since I wasn&#8217;t yet sold on the idea), I&#8217;d make do with something and bring it in.
</p>
<p>
While Joel Spolsky outfits his offices with <a href="http://www.joelonsoftware.com/items/2008/06/06.html">super fancy motorized</a> desks that can go from standing to sitting with the flick of a switch, those desks were <b>way</b> out of my price range.  Further, fixed height desks were also quite expensive (much like the word &#8220;wedding&#8221;, attaching the word &#8220;ergonominc&#8221; to something seems to double its price).  Enter the <a href="http://www.ikea.com/us/en/catalog/products/S49843462">Ikea Utby</a>!  The perfect size and perfect height, it looks great and was under $200!
</p>
<img style="margin: 5px" src="http://farm3.static.flickr.com/2451/3650774505_0354e3c061_m.jpg" height="200" align="left"/> 
<p>
Some might think it&#8217;s a bit small, but I find the more space I have, the bigger mess I make.  The Utby is, for me, the perfect amount of space.  Though, it&#8217;s so cheap, you could get two of them and make an awesome corner desk.  I work from home on occasion and also work on side projects after work.  Until recently I enjoyed the venerable (and, sadly, discontinued), <a href="http://adam.pra.to/content/jerker/">Ikea Jerker</a>. Last week, however, I was home recovering from back surgery, and was forbade by the doctor from sitting down.  I had to use my own makeshift stand up desk out of a keyboard stand and ironing board.  Pretty ghetto.
<img style="margin: 5px" src="http://farm4.static.flickr.com/3616/3650774551_1842148101_m.jpg" height="200" align="right" /></p>
<p>
So, the Jerker is now in pieces and has been replaced by a second Utby at home.<a href="http://www.flickr.com/photos/davetron5000/3643630703/"><img style="margin: 5px" src="http://farm4.static.flickr.com/3313/3643630703_b3e58ae5ae_m.jpg" align="left" border="0"/></a>  The sitting problem, both at home and at work is simple: a bar chair.  I&#8217;ve got some plush comfy ones at home and bought a (reasonably) cheap <a href="http://www.ikea.com/us/en/catalog/products/S49850179">Henriksdal</a> for work.  So, for less than $300, I have a nice looking desk at which I can stand or sit, and should have continued good back health.  Even if you don&#8217;t have back problems, I highly recommend standing; it keeps me alert and focused and feels great.  You just have to make sure you have comfortable shoes.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/05/25/lead-or-bleed.html">Lead or Bleed</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-05-25T00:00:00-04:00" pubdate data-updated="true">May 25<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
After reading all of <a href="http://pragprog.com/titles/cfcar2/the-passionate-programmer">The Passionate Programmer</a> over a week or so, I&#8217;m going back through and looking at some of the &#8220;Act On It!&#8221; sections, where Chad Fowler recommends specific actions to kickstart/sustain/boost your career.  The very first one, titled &#8220;Lead or Bleed?&#8221; suggests making a map of technologies, with &#8220;on the way out&#8221; on the left side and &#8220;bleeding edge&#8221; on the right side, then highlighting how well you know each thing.  Here&#8217;s my stab at it:
</p>
<p>
<img src="http://www.naildrivin5.com/daveblog5000/wp-content/technologies.png" alt="Technololgies: Lead or Bleed" title="Technololgies: Lead or Bleed" width="610" height="557" class="alignnone size-full wp-image-135" />
</p>
<p>
Green are things are know really well; yellow are things I could do at a job but am by no means an expert.
</p>
<p>
Obviously this is shaped by my own reality and what I perceive on the &#8216;net, and I omitted things like &#8220;C&#8221;, &#8220;UNIX&#8221; and &#8220;Windows&#8221;, because those are not really &#8220;on the way out&#8221; in the same way that C++ is (or that COBOL was, etc.). 
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/05/21/learning-cucumber-with-dynamic-types-must-come-documentation.html">Learning Cucumber - With Dynamic Types Must Come Documentation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-05-21T00:00:00-04:00" pubdate data-updated="true">May 21<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
Finally pulled the trigger on <a href="http://www.cukes.info">Cucumber</a>, which allows one to write human-readable &#8220;features&#8221; that are essentially acceptance test cases.  You can then execute them by adding some glue code in a mish-mash of Ruby DSLs and verify functionality.
</p>
<p>
It took me quite a while to decide to get going on this because the examples and documentation that are available are extremely hypothetical and very hand-wavy.  A lot of the information glosses over the fact that you are <b>still writing code</b> and you still need to know <b>what the keywords are</b> and <b>what data you will be given</b>.   Arcane non-human-readable symbols are almost preferable when getting started, because you don&#8217;t get distracted by English.  This is why Applescript drives me insane.
</p>
<p>
At any rate, I found <a href="http://themomorohoax.com/2009/03/08/rails-machinist-tutorial-machinist-with-cucumber-in-10-minutes">this page</a>, which was pretty helpful.  It shows testing a rails app using, among other things, <a href="http://github.com/brynary/webrat/tree/master">webrat</a> (another tool severely lacking in documentation but that is, nonetheless, pretty awesome).
</p>
<p>I&#8217;m writing a basic wiki (for science) and so I thought a good feature would be &#8220;home page shows all pages in sorted order&#8221;, so I wrote it up:
<div>
  <pre>
    <code class='ruby'>Feature: pages are sorted
 As anyone
 The pages should be listed on the home page in sorted order

 Scenario: Visit Homepage
   As anyone
   When I visit the homepage
   Then The list of pages should be sorted</code>
  </pre>
</div>

Now, the webrat/cucumber integration provided by rails means that the &#8220;plain English&#8221; has to actually conform to a subset of phrasing and terminology or you have to write the steps yourself (the features are everything under &#8220;Scenario&#8221;).  It&#8217;s not hard to do that, and it&#8217;s not hard to modify the default webrat steps, but it was a distraction intially.
</p>
<p>
Next up, you implement the steps and here is where the crazy intersection of Ruby DSLs really made things difficult.  The first two steps were pretty easy (&#8220;anyone&#8221; didn&#8217;t require any setup, and webrat successfully handled &#8220;When I visit the homepage&#8221;):
<div>
  <pre>
    <code class='ruby'>Then /The list of pages should be sorted/ do
  response.should # I have no clue wtf to do here
end</code>
  </pre>
</div>

A <tt>puts response.class</tt> and a puts <tt>response.methods</tt> gave me no useful information.  I eventually deduced that since Cucumber is a successor/add-on/something to RSpec, perhaps <tt>should</tt> comes from RSpec.  This takes a <tt>Matcher</tt> and webrat provides many.  Specifically, <tt>have_selector</tt> is available that allows selecting HTML elements based on the DOM.
<div>
  <pre>
    <code class='ruby'>Then /The list of pages should be sorted/ do
  response.should have_selector(&quot;ul.pages&quot;)
end</code>
  </pre>
</div>

<b>Success!</b> (sort of).  My feature executing is all green, meaning the home page contains &lt;ul class=&#8221;pages&#8221;&gt;.  <tt>have_selector</tt> also takes a block (totally undocumented as to what it is or does in the webrat documentation):
<div>
  <pre>
    <code class='ruby'>Then /The list of pages should be sorted/ do
  response.should have_selector(&quot;ul.pages&quot;) do |pages|
    # WTF is pages and what can I do with it?
  end
end</code>
  </pre>
</div>

A <tt>puts pages.class</tt> later and I realize this is a Nokogiri <tt>NodeSet</tt>.    Now, I&#8217;m in business, though it would&#8217;ve been nice to be told WTF some of this stuff was and what I can/should do with it.  At this point it was pretty trivial to select the page names from my HTML and check if they are sorted:
<div>
  <pre>
    <code class='ruby'>response.should have_selector('ul.pages') do |pages|
   page_names = []
   pages.should have_selector('li') do |li|
     li.should have_selector('.pagename') do |name|
       name.each do |one_name|
         page_names &amp;lt;&amp;gt; one_name.content
       end
     end
   end
   assert_equal page_names,page_names.sort
   true
 end</code>
  </pre>
</div>

(For some reason <tt>assert_equal</tt> doesn&#8217;t evaluate to true when it succeeds and the block evaluates to false and then Cucumber/RSpec/Webrat/Ruby Gods claim my page is missing the <tt>ul</tt> tag).  My initial implementation walked the DOM using Nokogiri&#8217;s  API directly, because I didn&#8217;t realize that <tt>should</tt> had been mixed in (on?) to the objects I was being given.  I&#8217;m still not sure if using that is the intention, but it seemed a bit cleaner to me.
</p>
<p>
So, this took me a couple of hours, mostly  because of a combination of dynamic typing and lack of documentation.  I&#8217;m all for dynamic typing, and I totally realize that these are free tools and all that.  I think if the Ruby community (and the dynamic typing community in general) wants to succeed and make a case that dynamic typing, DSLs, meta-programming and all this (admittedly awesome and powerful) stuff enhance productivity, there <b>has to be documentation</b> as to the types of user-facing objects. 
</p>
<p>
Now, given <a href="http://www.github.com">Github</a>&#8217;s general awesomeness, I&#8217;m totally willing to fork a repo, beef up the rdoc and request a pull, however I&#8217;m not even sure <b>whose</b> RDoc I could update to make this clear.  Just figuring out that the <tt>have_selector</tt> in <tt>response.should have_selector</tt> is part of webrat was nontrivial (I had to just guess that <tt>should</tt> was part of RSpec and that the <tt>Webrat::Matchers</tt> module was mixed in).  This is a problem and it&#8217;s not clear to me how to solve it.
</p>
<p>
That being said, I was then able to create three more features using this system in about 10 minutes, so overall, I&#8217;m really happy with how things are working.  Certainly if this were Java, I&#8217;d still be feeding XML to maven or futzing with missing semicolons.  So, it&#8217;s a net win for me.
</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>
  <img class="left" src="http://www.gravatar.com/avatar/ae52d95bbc43d0a62044a9a6b5674de0.png">
  I&#8217;ve been a progammer since 1995.  Currently use Ruby and Scala.
  I also write, play bass, and cook.
  </p>
</section>
<section>
  <p>
  <a href="http://pragprog.com/book/dccar/build-awesome-command-line-applications-in-ruby"><img class="center" src="http://imagery.pragprog.com/products/249/dccar_xlargebeta.jpg?1319573406"></a>
  </p>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/davetron5000">@davetron5000</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'davetron5000',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("davetron5000", 5, true);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/davetron5000" class="twitter-follow-button" data-show-count="false">Follow @davetron5000</a>
  
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/06/22/tap-versus-intermediate-variables.html">Tap versus intermediate variables</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/10/single-responsibility-principle-and-rails.html">Single Responsibility Principle and Rails</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/16/lookup-tables-with-lambdas.html">Lookup tables with lambdas</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/02/what-makes-and-awesome-command-line-app.html">â€  What Makes an Awesome Command-Line App?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/24/five-months-of-ebook-sales.html">&#10106;&#10144; Five Months of eBook Sales</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - David Bryant Copeland -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
